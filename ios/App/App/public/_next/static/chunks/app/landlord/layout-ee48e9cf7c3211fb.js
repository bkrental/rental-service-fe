(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{49273:function(e,n,i){Promise.resolve().then(i.bind(i,59924))},59924:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return B}});var s=i(3827);i(55591),i(60192);var t=i(47907),r=i(64090),o=i(30828),l=i(60036),c=i(40512),a=i(70895),d=i(67147),x=i(24541),h=i(89969),u=i(6285),p=i(42833);function j(e){let{open:n,message:i,onClose:t}=e;return(0,s.jsxs)(l.Z,{open:n,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{style:{borderRadius:"8px",padding:"16px"}},children:[(0,s.jsx)(c.Z,{variant:"error",id:"alert-dialog-title",children:(0,s.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,s.jsx)(p.Z,{fontSize:"large",color:"primary"}),"Authentication Required"]})}),(0,s.jsx)(d.Z,{children:(0,s.jsx)(x.Z,{id:"alert-dialog-description",children:i})}),(0,s.jsx)(h.Z,{children:(0,s.jsx)(u.Z,{onClick:t,color:"primary",autoFocus:!0,children:"OK"})})]})}function Z(e){let{children:n}=e,i=(0,t.useRouter)(),l=(0,t.usePathname)(),c=(0,o.v9)(e=>e.auth.isAuthenticated),[a,d]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{c||d(!0)},[c,i,l]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j,{open:a,onClose:()=>{d(!1),i.replace("/login?returnURL=".concat(l))},message:"You need to login to access the landlord portal. You will be redirected to the login page."}),!a&&n]})}var g=i(36839),m=i(20441),f=i(18173),y=i(23655),k=i(49398),C=i(36945),w=i(11518),v=i(368),b=i(17489),S=i(60304),P=i(29835),T=i(58129),z=i(90144),I=i(46730),R=i(58237),W=i(88433),E=i(69905),U=i(76516),_=i(83603),A=i(8792);let L={title:"Post Management",icon:(0,s.jsx)(g.Z,{}),options:[{text:"View all posts",url:"/landlord"},{text:"Create new post",url:"/landlord/publish"},{text:"View pending posts",url:"/landlord/pending"}]},O={title:"Account Management",icon:(0,s.jsx)(m.Z,{}),options:[{text:"Edit basic information",url:"/landlord/edit-info"},{text:"Change password",url:"/landlord/change-password"}]},M=e=>{let n=(0,t.usePathname)();return e.options.some(e=>{let{url:i}=e;return n==i})};function F(){let e=(0,v.Z)(),n=(0,o.v9)(e=>e.auth.user),i=(0,t.usePathname)(),l=M(L),c=M(O),[d,x]=(0,r.useState)(l),[h,u]=(0,r.useState)(c);return(0,s.jsxs)(a.Z,{sx:{height:"calc(100vh - 60px)",minWidth:280,py:2,px:1,boxShadow:e.shadows[1]},children:[(0,s.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"flex-start",p:2,spacing:2,children:[(0,s.jsx)(b.Z,{src:"/path-to-avatar.jpg",sx:{width:48,height:48}}),(0,s.jsxs)(S.Z,{children:[(0,s.jsx)(P.Z,{variant:"h6",component:"p",sx:{fontSize:16,lineHeight:1},children:null==n?void 0:n.name}),(0,s.jsx)(P.Z,{variant:"caption",display:"block",children:null==n?void 0:n.phone})]})]}),(0,s.jsx)(T.Z,{}),(0,s.jsxs)(z.Z,{dense:!0,children:[(0,s.jsxs)(I.Z,{onClick:()=>x(e=>!e),sx:{color:l?_.Z[800]:"inherit"},children:[(0,s.jsx)(R.Z,{sx:{minWidth:32,color:l?_.Z[800]:"inherit"},children:L.icon}),(0,s.jsx)(W.Z,{primaryTypographyProps:{fontWeight:"bold"},primary:L.title}),d?(0,s.jsx)(y.Z,{}):(0,s.jsx)(k.Z,{})]}),(0,s.jsx)(U.Z,{in:d,timeout:"auto",unmountOnExit:!0,children:(0,s.jsx)(z.Z,{component:"div",dense:!0,children:L.options.map((e,n)=>{let{url:t,text:r}=e;return(0,s.jsx)(I.Z,{sx:{pl:6},components:A.default,to:t,selected:i==t,children:(0,s.jsx)(W.Z,{primary:r})},r)})})}),(0,s.jsxs)(I.Z,{onClick:()=>u(e=>!e),children:[(0,s.jsx)(R.Z,{sx:{minWidth:32},children:O.icon}),(0,s.jsx)(W.Z,{primaryTypographyProps:{fontWeight:"bold"},primary:O.title}),d?(0,s.jsx)(y.Z,{}):(0,s.jsx)(k.Z,{})]}),(0,s.jsx)(U.Z,{in:h,timeout:"auto",unmountOnExit:!0,children:(0,s.jsx)(z.Z,{component:"div",dense:!0,children:O.options.map((e,n)=>{let{url:t,text:r}=e;return(0,s.jsx)(I.Z,{sx:{pl:6},components:A.default,to:t,selected:i==t,children:(0,s.jsx)(W.Z,{primary:r})},r)})})})]}),(0,s.jsx)(T.Z,{}),(0,s.jsx)(S.Z,{sx:{flex:1}}),(0,s.jsx)(z.Z,{children:[{text:"Settings",icon:(0,s.jsx)(w.Z,{})},{text:"Send Feedback",icon:(0,s.jsx)(C.Z,{})},{text:"Logout",icon:(0,s.jsx)(f.Z,{})}].map((e,n)=>(0,s.jsxs)(E.ZP,{button:!0,children:[(0,s.jsx)(R.Z,{children:e.icon}),(0,s.jsx)(W.Z,{primary:e.text})]},e.text))})]})}var B=e=>{let{children:n}=e;return(0,s.jsx)(Z,{children:(0,s.jsxs)(a.Z,{direction:"row",children:[(0,s.jsx)(F,{}),n]})})}},55591:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return M}});var s=i(3827),t=i(8792),r=i(30828),o=i(92293),l=i(58836),c=i(4598),a=i(70895),d=i(6285),x=i(17489),h=i(29835),u=i(43206),p=i(60304),j=i(83603),Z=i(54090),g=i(47907),m=i(64090),f=i(33797),y=i(19038),k=i(58237),C=i(17540),w=i(71498),v=i(62522),b=i(19204),S=i(48915);function P(e){let{anchorEl:n,open:i,handleClose:t}=e,o=(0,g.useRouter)(),l=(0,r.I0)();return(0,s.jsxs)(f.Z,{anchorEl:n,id:"account-menu",open:i,onClose:t,onClick:t,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,s.jsxs)(y.Z,{onClick:()=>o.push("/landlord"),children:[(0,s.jsx)(k.Z,{children:(0,s.jsx)(w.Z,{sx:{fontSize:18}})}),"Manage my properties"]}),(0,s.jsxs)(y.Z,{onClick:t,children:[(0,s.jsx)(k.Z,{children:(0,s.jsx)(v.Z,{sx:{fontSize:18}})}),"Update profile"]}),(0,s.jsxs)(y.Z,{onClick:t,children:[(0,s.jsx)(k.Z,{children:(0,s.jsx)(b.Z,{sx:{fontSize:18}})}),"Change password"]}),(0,s.jsxs)(y.Z,{onClick:()=>{o.push("/"),l((0,C.TT)())},children:[(0,s.jsx)(k.Z,{children:(0,s.jsx)(S.Z,{sx:{fontSize:18}})}),"Logout"]})]})}var T=i(48740),z=i(36892),I=i(58129),R=i(90144),W=i(69905),E=i(88433),U=i(29409),_=i(97528);function A(e){let{open:n,toggleDrawer:i,user:t,userName:o}=e,l=(0,g.useRouter)(),c=(0,r.I0)();return(0,s.jsxs)(z.ZP,{anchor:"left",open:n,onClose:i(!1),children:[(0,s.jsxs)(p.Z,{sx:{width:250},role:"presentation",onClick:i(!1),onKeyDown:i(!1),children:[t?(0,s.jsxs)(a.Z,{direction:"row",alignItems:"center",spacing:1,sx:{padding:2},children:[(0,s.jsx)(x.Z,{sx:{width:30,height:30},children:o[0].toUpperCase()}),(0,s.jsx)(h.Z,{sx:{fontWeight:700},children:o})]}):(0,s.jsxs)(a.Z,{direction:"row",spacing:1,sx:{padding:2},children:[(0,s.jsx)(d.Z,{variant:"outlined",sx:{flexGrow:1},onClick:()=>l.push("/login"),children:"Login"}),(0,s.jsx)(d.Z,{variant:"contained",sx:{flexGrow:1},onClick:()=>l.push("/signup"),children:"Sign- up"})]}),t?(0,s.jsx)(p.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,s.jsx)(d.Z,{variant:"contained",sx:{width:"90%"},children:(0,s.jsx)(h.Z,{children:"Manage my properties"})})}):(0,s.jsx)(I.Z,{}),(0,s.jsxs)(R.Z,{children:[(0,s.jsxs)(W.ZP,{onClick:()=>l.push("/rent"),children:[(0,s.jsx)(k.Z,{sx:{minWidth:36},children:(0,s.jsx)(U.Z,{color:"primary"})}),(0,s.jsx)(E.Z,{primary:"Rent"})]}),(0,s.jsxs)(W.ZP,{onClick:()=>l.push("/buy"),children:[(0,s.jsx)(k.Z,{sx:{minWidth:36},children:(0,s.jsx)(_.Z,{color:"primary"})}),(0,s.jsx)(E.Z,{primary:"Buy"})]})]})]}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.Z,{}),(0,s.jsx)(R.Z,{children:(0,s.jsxs)(W.ZP,{onClick:()=>{l.push("/"),c((0,C.TT)())},children:[(0,s.jsx)(k.Z,{sx:{minWidth:36},children:(0,s.jsx)(U.Z,{color:"primary"})}),(0,s.jsx)(E.Z,{primary:"Log out"})]})})]})]})}let L=e=>{let{children:n,...i}=e;return(0,s.jsx)(o.Z,{component:t.default,underline:"none",...i,children:n})},O=(0,l.ZP)(e=>(0,s.jsx)(c.Z,{maxWidth:"xl",...e}))(e=>{let{theme:n}=e;return{paddingTop:"60px",paddingBottom:"10px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",position:"fixed",zIndex:1e3,backgroundColor:j.Z[800]}});var M=function(){let e=(0,g.useRouter)(),n=(0,r.v9)(e=>e.auth.user),i=(0,m.useMemo)(()=>(null==n?void 0:n.name)||"User",[n]),[t,o]=(0,m.useState)(null),[l,c]=(0,m.useState)(!1),j=e=>n=>{("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&c(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(O,{children:[(0,s.jsxs)(a.Z,{direction:"row",spacing:3,alignItems:"center",children:[(0,s.jsx)(L,{href:"/",sx:{fontSize:28,fontWeight:600,width:120,color:"#fff"},children:"BKRental"}),(0,s.jsx)(L,{fontSize:20,href:"/rent",color:"inherit",sx:{display:{xs:"none",sm:"none",md:"flex"}},children:"Rent"}),(0,s.jsx)(L,{fontSize:20,href:"/buy",color:"inherit",sx:{display:{xs:"none",sm:"none",md:"flex"}},children:"Buy"})]}),(0,s.jsxs)(a.Z,{direction:"row",spacing:1,sx:{display:{xs:"none",sm:"none",md:"flex"}},children:[(0,s.jsx)(d.Z,{onClick:()=>e.push("/landlord"),size:"large",color:"inherit",children:"Post a property"}),n?(0,s.jsxs)(a.Z,{direction:"row",alignItems:"center",spacing:1,sx:{border:1,borderColor:Z.Z[300],px:1,borderRadius:2,cursor:"pointer"},onClick:e=>{o(e.currentTarget)},children:[(0,s.jsx)(x.Z,{sx:{width:30,height:30},children:i[0].toUpperCase()}),(0,s.jsx)(h.Z,{children:i})]}):(0,s.jsx)(d.Z,{onClick:()=>e.push("/login"),variant:"outlined",children:"Sign Up or Login"})]}),(0,s.jsx)(u.Z,{edge:"start",color:"inherit","aria-label":"menu",sx:{display:{xs:"flex",sm:"flex",md:"none"}},onClick:j(!0),children:(0,s.jsx)(T.Z,{})}),(0,s.jsx)(A,{open:l,toggleDrawer:j,user:n,userName:i}),(0,s.jsx)(P,{anchorEl:t,open:!!t,handleClose:()=>{o(null)}})]}),(0,s.jsx)(p.Z,{sx:{width:"100%",height:"60px"}})]})}},60192:function(e,n,i){"use strict";i(3827),i(47907),i(64090)},17540:function(e,n,i){"use strict";i.d(n,{TT:function(){return r},he:function(){return o},ps:function(){return t}});let s=(0,i(46608).oM)({name:"auth",initialState:{accessToken:null,user:null,isAuthenticated:!1},reducers:{loginSuccess:(e,n)=>{e.accessToken=n.payload.access_token,e.user=n.payload.user,e.isAuthenticated=!0},setUserInfo:(e,n)=>{e.accessToken=n.payload.access_token,e.user=n.payload.user,e.isAuthenticated=!0},removeUserInfo:(e,n)=>{localStorage.removeItem("accessToken"),e.isAuthenticated=!1,e.user=null,e.accessToken=null}}}),{setUserInfo:t,removeUserInfo:r,loginSuccess:o}=s.actions;n.ZP=s.reducer}},function(e){e.O(0,[826,665,792,585,865,790,426,971,69,744],function(){return e(e.s=49273)}),_N_E=e.O()}]);